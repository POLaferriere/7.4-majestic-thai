this.JST=this.JST||{},this.JST.application=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,i,s){return"<h1>Hello</h1>\n"},useData:!0}),this.JST.checkout=Handlebars.template({1:function(e,t,i,s){var n,l=t.helperMissing,a="function",r=this.escapeExpression;return'<h3 class="checkout-item"><span class="name">'+r((n=null!=(n=t.name||(null!=e?e.name:e))?n:l,typeof n===a?n.call(e,{name:"name",hash:{},data:s}):n))+'</span><span class="price">$'+r((n=null!=(n=t.price||(null!=e?e.price:e))?n:l,typeof n===a?n.call(e,{name:"price",hash:{},data:s}):n))+"</span></h3>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,i,s){var n;return'<div class="checkout-container">\n<h1 class="checkout-title">Please review your order</h1>\n\n'+(null!=(n=t.each.call(e,e,{name:"each",hash:{},fn:this.program(1,s,0),inverse:this.noop,data:s}))?n:"")+'\n<p class="checkout-subtotal"><span class="subtotal-text">Subtotal:</span><span class="subtotal"></span></p>\n<p class="checkout-tax"><span class="tax-text">Tax: </span><span class="tax"></span></p>\n\n<h3 class="checkout-total"><span class="total-text">Total: </span><span class="total"></span></h3>\n\n<div class="buttons">\n	<button class="back">Continue Ordering</button>\n	<button class="confirm">Confirm Order</button>\n</div>\n</div>'},useData:!0}),this.JST["menu-list-item"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,i,s){var n,l=t.helperMissing,a="function",r=this.escapeExpression;return'<h1 class="menu-list-item-title">'+r((n=null!=(n=t.name||(null!=e?e.name:e))?n:l,typeof n===a?n.call(e,{name:"name",hash:{},data:s}):n))+'</h1>\n<p class="menu-list-item-description">'+r((n=null!=(n=t.description||(null!=e?e.description:e))?n:l,typeof n===a?n.call(e,{name:"description",hash:{},data:s}):n))+'</p>\n<p class="menu-list-item-price">$'+r((n=null!=(n=t.price||(null!=e?e.price:e))?n:l,typeof n===a?n.call(e,{name:"price",hash:{},data:s}):n))+'</p>\n<div class="buttons">\n	<button class="menu-list-item-add">Add</button>	\n</div>\n<i class="fa fa-times"></i>'},useData:!0}),this.JST["menu-list"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,i,s){return""},useData:!0}),this.JST.order=Handlebars.template({1:function(e,t,i,s){var n,l=t.helperMissing,a="function",r=this.escapeExpression;return'<h3 class="order-item"><span class="name">'+r((n=null!=(n=t.name||(null!=e?e.name:e))?n:l,typeof n===a?n.call(e,{name:"name",hash:{},data:s}):n))+'</span><i class="fa fa-minus"></i><span class="price">$'+r((n=null!=(n=t.price||(null!=e?e.price:e))?n:l,typeof n===a?n.call(e,{name:"price",hash:{},data:s}):n))+"</span></h3>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,i,s){var n;return'<h1 class="order-title">Your Order</h1>\n\n'+(null!=(n=t.each.call(e,e,{name:"each",hash:{},fn:this.program(1,s,0),inverse:this.noop,data:s}))?n:"")+'\n<p class="order-subtotal"><span class="subtotal-text">Subtotal:</span><span class="subtotal"></span></p>\n<p class="order-tax"><span class="tax-text">Tax: </span><span class="tax"></span></p>\n\n<h3 class="order-total"><span class="total-text">Total: </span><span class="total"></span></h3>\n\n<a href="#checkout"><button class="order-confirm">Go To Checkout</button></a>\n'},useData:!0}),this.JST["type-list"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,i,s){return'<h1 class="type-title">Appetizers</h1>'},useData:!0}),require.register("functions",function(e,t,i){"use strict";function s(e){return e.charAt(0).toUpperCase()+e.slice(1)}function n(e){return _.map(e,function(e){return e.toJSON()})}function l(e){var t=_.map(e,function(e){e.price=(e.price/100).toFixed(2)});return t}Object.defineProperty(e,"__esModule",{value:!0}),e.capitalizeFirstLetter=s,e.mapToJSON=n,e.mapPrices=l}),require.register("main",function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}var n=t("router"),l=s(n);$(document).ready(function(){new l["default"];Backbone.history.start()})}),require.register("router",function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var n=t("models/item-collection"),l=s(n),a=t("models/order"),r=s(a),o=t("views/index"),c=s(o),u=t("views/order"),d=s(u),h=t("views/checkout"),p=s(h),f=Backbone.Router.extend({routes:{"":"index",index:"index",order:"order",checkout:"checkout"},initialize:function(){this.items=new l["default"]},index:function(){this.orderView&&this.orderView.remove(),this.checkoutView&&this.checkoutView.remove();var e=new c["default"]({collection:this.items});this.items.reset(),this.items.fetch(),this.showView(e)},order:function(){if(!this.orderView){var e=new d["default"]({model:r["default"]});this.orderView=e,$("#container").append(e.render().el)}},checkout:function(){var e=new p["default"]({model:r["default"]});this.checkoutView=e,$("#container").append(e.render().el)},showView:function(e){return console.log("called"),$("#container").html(e.render().el),this}});e["default"]=f,i.exports=e["default"]}),require.register("models/item-collection",function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var n=t("models/item"),l=s(n),a=Backbone.Collection.extend({url:"http://tiny-lasagna-server.herokuapp.com/collections/aaronrestaurant?limit=100",model:l["default"],comparator:"type"});e["default"]=a,i.exports=e["default"]}),require.register("models/item",function(e,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=Backbone.Model.extend({defaults:{},idAttribute:"_id"});e["default"]=s,i.exports=e["default"]}),require.register("models/order",function(e,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=Backbone.Model.extend({defaults:function(){return{orders:[],isOrder:!0}},addItem:function(e){this.set("orders",this.get("orders").concat([e]))},urlRoot:"http://tiny-lasagna-server.herokuapp.com/collections/aaronrestaurant",idAttribute:"_id"}),n=new s;e["default"]=n,i.exports=e["default"]}),require.register("views/base-view",function(e,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=Backbone.View.extend({render:function(){return this.$el.html(this.template()),this}});e["default"]=s,i.exports=e["default"]}),require.register("views/checkout",function(e,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=t("functions"),n=Backbone.View.extend({className:"checkout-view",template:JST.checkout,events:{"click .back":"closeView","click .confirm":"sendOrder"},render:function(){var e=s.mapToJSON(this.model.get("orders"));s.mapPrices(e),this.$el.html(this.template(e)),this.$(".subtotal").text("$"+(this.orderTotal()/100).toFixed(2)),this.$(".tax").text("$"+(this.orderTotal()/100*.07).toFixed(2));var t=Number((this.orderTotal()/100).toFixed(2))+Number((this.orderTotal()/100*.07).toFixed(2));return this.$(".total").text("$"+t.toFixed(2)),this.model.set("total",t),this},orderTotal:function(){var e=_.reduce(_.pluck(s.mapToJSON(this.model.get("orders")),"price"),function(e,t){return Number(e)+Number(t)});return isNaN(e)?0:e},closeView:function(){window.location="#order",this.remove()},sendOrder:function(){this.model.save({silent:!0}),window.location="#index"}});e["default"]=n,i.exports=e["default"]}),require.register("views/collection-view",function(e,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=Backbone.View.extend({initialize:function(){this.listenTo(this.collection,"add",this.addChild),this.listenTo(this.collection,"remove",this.removeChild),this.listenTo(this.collection,"sort",this.sortChildren),this.children=[]},addChild:function(e,t){var i=t.indexOf(e),s=this.ItemViewConstructor||Backbone.View,n=new s({model:e});if(n.render(),this.children.splice(i,0,n),i<this.children.length-1){var l=t.at(i+1),a=_.findWhere(this.children,{model:l});a?a.$el.before(n.el):this.$el.append(n.el)}},removeChild:function(e,t){var i=_.findWhere(this.children,{model:e}),s=this.children.indexOf(i);this.children.splice(s,1),i.remove()},sortChildren:function(){var e=this,t=this.collection.map(function(t){var i=_.findWhere(e.children,{model:t});return i.el});this.$el.append(t)},remove:function(){_.invoke(this.children,"remove"),Backbone.View.prototype.remove.apply(this,arguments)}});e["default"]=s,i.exports=e["default"]}),require.register("views/index",function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var n=t("views/base-view"),l=s(n),a=t("views/menu-list"),r=(s(a),t("models/item-collection")),o=s(r),c=t("views/type-list"),u=s(c),d=l["default"].extend({className:"index-view",initialize:function(){this.appsCollection=new o["default"],this.appListView=new u["default"]({collection:this.appsCollection}),this.soupCollection=new o["default"],this.soupListView=new u["default"]({collection:this.soupCollection}),this.entreeCollection=new o["default"],this.entreeListView=new u["default"]({collection:this.entreeCollection}),this.saladCollection=new o["default"],this.saladListView=new u["default"]({collection:this.saladCollection}),this.dessertCollection=new o["default"],this.dessertListView=new u["default"]({collection:this.dessertCollection}),this.listenTo(this.collection,"update",this.filter)},render:function(){return this.$el.append(this.appListView.render().el),this.$el.append(this.soupListView.render().el),this.$el.append(this.saladListView.render().el),this.$el.append(this.entreeListView.render().el),this.$el.append(this.dessertListView.render().el),this},remove:function(){Backbone.View.prototype.remove.apply(this,arguments)},filter:function(e){this.appsCollection.add(e.filter(function(e){return"appetizer"===e.get("type")})),this.soupCollection.add(e.filter(function(e){return"soup"===e.get("type")})),this.saladCollection.add(e.filter(function(e){return"salad"===e.get("type")})),this.entreeCollection.add(e.filter(function(e){return"entree"===e.get("type")})),this.dessertCollection.add(e.filter(function(e){return"dessert"===e.get("type")}))}});e["default"]=d,i.exports=e["default"]}),require.register("views/menu-list-item",function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var n=t("views/base-view"),l=s(n),a=t("models/order"),r=s(a),o=l["default"].extend({tagName:"li",className:"menu-list-item",template:JST["menu-list-item"],render:function(){var e=this.model.toJSON();e.price=(e.price/100).toFixed(2),this.$el.html(this.template(e))},events:{"click .menu-list-item-title":"showDetails","click .fa-times":"closeDetails","click .menu-list-item-add":"addItem"},showDetails:function(){this.$el.hasClass("detailed")||(this.$el.siblings(".detailed").removeClass("detailed"),this.$el.addClass("detailed"))},closeDetails:function(){console.log("closed"),$(".menu-list-item").removeClass("detailed")},addItem:function(){r["default"].addItem(this.model),window.location="#order"}});e["default"]=o,i.exports=e["default"]}),require.register("views/menu-list",function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var n=t("views/collection-view"),l=s(n),a=t("views/menu-list-item"),r=s(a),o=l["default"].extend({tagName:"ul",ItemViewConstructor:r["default"]});e["default"]=o,i.exports=e["default"]}),require.register("views/order",function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var n=t("views/base-view"),l=s(n),a=t("models/order"),r=s(a),o=t("functions"),c=l["default"].extend({className:"order-view",initialize:function(){this.listenTo(this.model,"change:orders",this.render)},template:JST.order,events:{"click .fa-minus":"removeOrder"},render:function(){var e=o.mapToJSON(this.model.get("orders"));o.mapPrices(e),this.$el.html(this.template(e)),this.$(".subtotal").text("$"+(this.orderTotal(r["default"])/100).toFixed(2)),this.$(".tax").text("$"+(this.orderTotal(r["default"])/100*.07).toFixed(2));var t=Number((this.orderTotal(r["default"])/100).toFixed(2))+Number((this.orderTotal(r["default"])/100*.07).toFixed(2));return this.$(".total").text("$"+t.toFixed(2)),this.model.set("subtotal",(this.orderTotal(r["default"])/100).toFixed(2)),this.model.set("total",t),this},addOrder:function(e,t){this.$el.append(this.template(_.last(t).toJSON()))},removeOrder:function(e){var t=e.toElement.parentElement.textContent,i=this.model.get("orders");i.splice(_.findIndex(i,function(e){return e.get("name")===t}),1),this.model.set("orders",i),this.render()},orderTotal:function(e){var t=_.reduce(_.pluck(o.mapToJSON(this.model.get("orders")),"price"),function(e,t){return Number(e)+Number(t)});return isNaN(t)?0:t}});e["default"]=c,i.exports=e["default"]}),require.register("views/type-list",function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var n=t("views/base-view"),l=s(n),a=t("models/item-collection"),r=(s(a),t("views/menu-list")),o=s(r),c=t("functions"),u=l["default"].extend({className:"type-list",initialize:function(){this.typeList=new o["default"]({collection:this.collection}),this.listenTo(this.collection,"update",this.addName)},template:JST["type-list"],events:{"click .type-title":"activate","click .fa-plus":"activate","click .fa-minus":"activate"},render:function(){return this.$el.html('<h1 class="type-title"></h1><i class="fa fa-plus"></i><i class="fa fa-minus"></i>'),this.$el.append(this.typeList.render().el),this},addName:function(){this.$(".type-title").text(c.capitalizeFirstLetter(this.collection.reduce(function(e,t){return t.get("type")}))+"s")},activate:function(){this.$el.siblings(".active").removeClass("active"),this.$el.find(".detailed").removeClass("detailed"),this.$el.toggleClass("active")}});e["default"]=u,i.exports=e["default"]});